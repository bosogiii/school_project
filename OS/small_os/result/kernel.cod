; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.762 

	TITLE	c:\develop\MyoskOS\kernel.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	??_C@_0DD@JLJAC@MmkInitializeMemoryManager?$CI?$CJ?5ret@ ; `string'
PUBLIC	??_C@_0CI@GFPEFDPE@HalInitializeHal?$CI?$CJ?5returned?5an?5e@ ; `string'
PUBLIC	_KrnInitializeKernel
EXTRN	_MmkInitializeMemoryManager:PROC
EXTRN	_CrtPrintf:PROC
EXTRN	_HalInitializeHal:PROC
;	COMDAT ??_C@_0DD@JLJAC@MmkInitializeMemoryManager?$CI?$CJ?5ret@
; File c:\develop\myoskos\kernel.c
CONST	SEGMENT
??_C@_0DD@JLJAC@MmkInitializeMemoryManager?$CI?$CJ?5ret@ DB 'MmkInitializ'
	DB	'eMemoryManager() returned an error .', 0dH, 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CI@GFPEFDPE@HalInitializeHal?$CI?$CJ?5returned?5an?5e@
CONST	SEGMENT
??_C@_0CI@GFPEFDPE@HalInitializeHal?$CI?$CJ?5returned?5an?5e@ DB 'HalInit'
	DB	'ializeHal() returned an error.', 0dH, 0aH, 00H ; `string'
; Function compile flags: /Odtp /ZI
CONST	ENDS
;	COMDAT _KrnInitializeKernel
_TEXT	SEGMENT
_KrnInitializeKernel PROC				; COMDAT

; 9    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi

; 10   : 	if(!HalInitializeHal()){

  00009	e8 00 00 00 00	 call	 _HalInitializeHal
  0000e	85 c0		 test	 eax, eax
  00010	75 11		 jne	 SHORT $LN2@KrnInitial

; 11   : 		DbgPrint("HalInitializeHal() returned an error.\r\n");

  00012	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@GFPEFDPE@HalInitializeHal?$CI?$CJ?5returned?5an?5e@
  00017	e8 00 00 00 00	 call	 _CrtPrintf
  0001c	83 c4 04	 add	 esp, 4

; 12   : 		return FALSE;

  0001f	33 c0		 xor	 eax, eax
  00021	eb 1f		 jmp	 SHORT $LN3@KrnInitial
$LN2@KrnInitial:

; 13   : 	}
; 14   : 
; 15   : 	if(!MmkInitializeMemoryManager()) {

  00023	e8 00 00 00 00	 call	 _MmkInitializeMemoryManager
  00028	85 c0		 test	 eax, eax
  0002a	75 11		 jne	 SHORT $LN1@KrnInitial

; 16   : 		DbgPrint("MmkInitializeMemoryManager() returned an error .\r\n");

  0002c	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@JLJAC@MmkInitializeMemoryManager?$CI?$CJ?5ret@
  00031	e8 00 00 00 00	 call	 _CrtPrintf
  00036	83 c4 04	 add	 esp, 4

; 17   : 		return FALSE;

  00039	33 c0		 xor	 eax, eax
  0003b	eb 05		 jmp	 SHORT $LN3@KrnInitial
$LN1@KrnInitial:

; 18   : 	}
; 19   : 	
; 20   : 	return TRUE;

  0003d	b8 01 00 00 00	 mov	 eax, 1
$LN3@KrnInitial:

; 21   : }

  00042	5f		 pop	 edi
  00043	5e		 pop	 esi
  00044	5b		 pop	 ebx
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_KrnInitializeKernel ENDP
_TEXT	ENDS
END
